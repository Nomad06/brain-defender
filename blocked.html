<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <title data-i18n="blocked.title">–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</title>
  <style>
    .center {
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 18px;
    }
    .hero {
      max-width: 980px;
      padding: 18px;
    }
    .big {
      font-size: clamp(28px, 3.2vw, 54px);
      font-weight: 600;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin: 6px 0 0;
      color: var(--text);
    }
    .sub {
      font-size: 14px;
      color: var(--muted);
      margin-top: 10px;
      line-height: 1.6;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--card2);
      font-family: var(--mono);
      font-size: 12px;
      color: var(--text);
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .tip {
      padding: 16px;
      background: var(--card2);
      border: 1px solid var(--border);
      border-radius: 12px;
    }
    .tipTitle { font-weight: 800; margin-bottom: 6px; }
    .breath {
      display:flex; gap:10px; align-items:center; margin-top:10px;
    }
    .dot {
      width: 10px; height: 10px; border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 0 rgba(91, 141, 239, .3);
      animation: pulse 2.2s infinite;
    }
    @keyframes pulse {
      0%   { transform: scale(1); box-shadow: 0 0 0 0 rgba(91, 141, 239, .3); }
      60%  { transform: scale(1.2); box-shadow: 0 0 0 12px rgba(91, 141, 239, 0); }
      100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(91, 141, 239, 0); }
    }
    .exerciseStep {
      font-size: 14px;
      line-height: 1.6;
      color: var(--text);
      transition: opacity 0.3s ease;
    }
    .exerciseStep.active {
      opacity: 1;
    }
    .exerciseStep.inactive {
      opacity: 0.5;
    }
  </style>
</head>
<body>
  <div class="center">
    <div class="card hero">
      <div class="row" style="justify-content: space-between; flex-wrap: wrap; gap: 10px;">
        <div class="pill" id="target"></div>
        <div class="pill">üõ°Ô∏è BLOCKED</div>
      </div>

      <div class="big" id="phrase"></div>

      <div class="tip" style="margin-top: 24px;">
        <div class="tipTitle" data-i18n="blocked.whatToDo">–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</div>
        <div class="muted" id="stepsContent">
          <div data-i18n="blocked.step1">1) –ó–∞–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É.</div>
          <div id="step2Content"><span id="step2Text"></span></div>
          <div data-i18n="blocked.step3">3) –°–∫–∞–∂–∏ –≤—Å–ª—É—Ö: ¬´—è –≤—ã–±–∏—Ä–∞—é —Ü–µ–ª—å, –∞ –Ω–µ –∏–º–ø—É–ª—å—Å¬ª.</div>
        </div>
        <div class="breath">
          <div class="dot"></div>
          <div class="muted" data-i18n="blocked.breathe">–î—ã—à–∏. –ò–º–ø—É–ª—å—Å –æ–±—ã—á–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è.</div>
        </div>
      </div>
      
      <!-- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∏–º–ø—É–ª—å—Å—É -->
      <div class="card" id="alternativeBlock" style="padding: 16px; background: var(--card2); margin-top: 24px; border: 1px solid var(--border);">
        <div class="h2" style="margin-bottom: 6px;">–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –º–∏–Ω—É—Ç–∞ ‚Äî –¥–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º —á—Ç–æ-—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–µ</div>
        <div class="muted" style="margin-bottom: 16px; font-size: 12px;">–í—ã–±–µ—Ä–∏ –æ–¥–Ω–æ ‚Äî –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É.</div>
        
        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–º —Å–µ–≥–æ–¥–Ω—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–∏ -->
        <div id="alreadyDoneToday" style="display: none; margin-bottom: 12px; padding: 12px; background: var(--card); border-radius: 8px; border: 1px solid var(--border);">
          <div class="muted" style="font-size: 12px;">–°–µ–≥–æ–¥–Ω—è —Ç—ã —É–∂–µ —Å–¥–µ–ª–∞–ª –ø–∞—É–∑—É. –•–æ—Ä–æ—à.</div>
          <button class="btn" id="repeatAnyway" style="margin-top: 8px; font-size: 11px; padding: 6px 12px;">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å—ë —Ä–∞–≤–Ω–æ</button>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ -->
        <div id="exerciseButtons" class="row" style="gap: 8px; flex-wrap: wrap;">
          <button class="btn" id="eyeExerciseBtn" style="flex: 1; min-width: 160px;">üëÅ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–ª—è –≥–ª–∞–∑</button>
          <button class="btn" id="breathExerciseBtn" style="flex: 1; min-width: 160px;">ü´Å –î—ã—Ö–∞–Ω–∏–µ</button>
          <button class="btn" id="stretchExerciseBtn" style="flex: 1; min-width: 160px;">üßç –ú–∏–Ω–∏-—Ä–∞–∑–º–∏–Ω–∫–∞</button>
          <button class="btn" id="closeTabBtn" style="flex: 1; min-width: 160px;">‚ùå –ü—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É</button>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è –≥–ª–∞–∑ -->
        <div id="eyeExerciseContent" style="display: none; margin-top: 20px; padding: 16px; background: var(--card); border-radius: 8px; border: 1px solid var(--border);">
          <div class="h2" style="margin-bottom: 12px;">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–ª—è –≥–ª–∞–∑</div>
          <div class="muted" style="font-size: 12px; margin-bottom: 12px;">–°–ª–µ–¥–∏ –∑–∞ —Ç–æ—á–∫–æ–π –≥–ª–∞–∑–∞–º–∏, –Ω–µ –¥–≤–∏–≥–∞—è –≥–æ–ª–æ–≤–æ–π</div>
          <canvas id="eyeCanvas" style="width: 100%; height: 200px; border-radius: 8px; background: var(--card2); display: block; margin-bottom: 12px;"></canvas>
          <div class="progressWrap" id="eyeProgress" style="margin-bottom: 12px;">
            <div class="progressBar" id="eyeProgressBar"></div>
          </div>
          <button class="btn" id="stopEyeExercise" style="font-size: 11px; padding: 6px 12px;">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥—ã—Ö–∞–Ω–∏—è -->
        <div id="breathExerciseContent" style="display: none; margin-top: 20px; padding: 16px; background: var(--card); border-radius: 8px; border: 1px solid var(--border);">
          <div class="h2" style="margin-bottom: 12px;">–î—ã—Ö–∞–Ω–∏–µ</div>
          <div class="muted" style="font-size: 12px; margin-bottom: 12px;">–°–ª–µ–¥—É–π —Ä–∏—Ç–º—É –∫—Ä—É–≥–∞</div>
          <canvas id="breathCanvas" style="width: 100%; max-width: 300px; height: 300px; border-radius: 8px; background: var(--card2); display: block; margin: 0 auto 12px;"></canvas>
          <div id="breathPhase" style="text-align: center; font-size: 16px; font-weight: 500; margin-bottom: 12px; min-height: 24px;"></div>
          <div class="progressWrap" id="breathProgress" style="margin-bottom: 12px;">
            <div class="progressBar" id="breathProgressBar"></div>
          </div>
          <button class="btn" id="stopBreathExercise" style="font-size: 11px; padding: 6px 12px; display: block; margin: 0 auto;">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –º–∏–Ω–∏-—Ä–∞–∑–º–∏–Ω–∫–∏ -->
        <div id="stretchExerciseContent" style="display: none; margin-top: 20px; padding: 16px; background: var(--card); border-radius: 8px; border: 1px solid var(--border);">
          <div class="h2" style="margin-bottom: 12px;">–ú–∏–Ω–∏-—Ä–∞–∑–º–∏–Ω–∫–∞</div>
          <div class="muted" style="font-size: 12px; margin-bottom: 16px; color: var(--danger); padding: 10px; background: var(--card2); border-radius: 6px; border-left: 3px solid var(--danger);">‚ö†Ô∏è –ë–µ–∑ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π</div>
          <div id="stretchSteps" style="font-size: 14px; line-height: 2; padding-left: 8px;">
            <div style="margin-bottom: 8px; padding: 8px; background: var(--card2); border-radius: 6px;">1. –í—Å—Ç–∞–Ω—å</div>
            <div style="margin-bottom: 8px; padding: 8px; background: var(--card2); border-radius: 6px;">2. –ö—Ä—É–≥ –ø–ª–µ—á–∞–º–∏ 5 —Ä–∞–∑</div>
            <div style="margin-bottom: 8px; padding: 8px; background: var(--card2); border-radius: 6px;">3. –ü–æ—Ç—è–Ω–∏ —à–µ—é: –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ –ø–æ 5 —Å–µ–∫—É–Ω–¥ (–±–µ–∑ —Ä–µ–∑–∫–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π)</div>
            <div style="margin-bottom: 8px; padding: 8px; background: var(--card2); border-radius: 6px;">4. –°–¥–µ–ª–∞–π –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö</div>
          </div>
          <button class="btn" id="closeStretchExercise" style="margin-top: 16px; font-size: 11px; padding: 6px 12px;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>

    </div>
  </div>

  <script src="consts.js"></script>
  <script src="utils.js"></script>
  <script src="translations.js"></script>
  <script src="i18n.js"></script>
  <script src="blocked.js"></script>
</body>
</html>